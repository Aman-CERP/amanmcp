# v0.10.2 - Constants & Variables Indexing

**Release Date:** 2026-01-15

Bug fix release that enables constants and variables to be indexed by the tree-sitter chunker.

---

## Added

- Auto-add `.amanmcp` to `.gitignore` during `amanmcp init` (FEAT-INIT1)
  - Creates `.gitignore` if missing, appends if exists
  - Idempotent: detects existing entries (`.amanmcp`, `.amanmcp/`, `/.amanmcp`, `/.amanmcp/`)
  - Preserves existing line endings (CRLF/LF)
  - Non-fatal on error (warns and continues)

- Test coverage improvements (DEBT-028)
  - Add concurrent operation tests for HNSW vector store with race detection
  - Add validateDimensions error handling tests
  - Add enrichResultsWithAdjacent edge case tests
  - Add rerankResults invalid index handling tests
  - Add normalizeVectorInPlace numerical edge case tests
  - Add isOllamaModelName model classification tests
  - Add HNSW persistence with orphan tests
  - Add gitignore reconciliation edge case tests
  - Add logging package tests: MCP mode, viewer, paths, rotation (17.8% -> 61.1%)
  - Add search engine tests: options, classifyQueryType, singleSearch, convertToFusedResult (70.4% -> 74.0%)
  - Add store tests: info.go utilities, BM25 AllIDs/Save, HNSW AllIDs/ReadDimensions/distanceToScore (63.5% -> 68.4%)
  - Add index package tests: determineReconciliationStrategy, reconcileGitignorePatternDiff, reconcileGitignoreSubtree (71.9% -> 81.8%)
  - Add contextual tests: DefaultContextGeneratorConfig, extractFirstSentence, HybridContextGenerator methods

## Fixed

- Constants and variables now indexed by tree-sitter chunker (BUG-074)
  - Add `ConstantTypes` and `VariableTypes` to `LanguageConfig` struct
  - Register node types: Go (`const_declaration`, `var_declaration`), TypeScript/JavaScript (`lexical_declaration`, `variable_declaration`), Python (`assignment`)
  - Update `findSymbolNodes()` and `extractSymbolFromNode()` to extract constants/variables
  - Configuration strings, SQL queries, error messages, and templates now searchable

---

## Upgrade Notes

After upgrading, re-index your codebase to include constants and variables:

```bash
amanmcp index --force .
```

This will add approximately 15-20% more chunks to your index (constants, variables, configuration values).
