# Version 0.1.50

**Release Date:** 2026-01-06
**Phase:** Dogfooding & UX Improvements

---

## Summary

Major UX improvements for indexing: TUI progress display with spinner, progress bar, and ETA. Fixed critical bugs preventing embedding progress visibility and timeout issues on large codebases.

---

## Added

- TUI progress display for indexing
  - Stage pipeline visualization (Scanning → Chunking → Embedding → Indexing)
  - Animated spinner and progress bar with Charmbracelet
  - ETA calculation for long-running operations
  - Auto-detects TTY/CI for appropriate output format
  - Plain text fallback for non-interactive environments
  - `--no-tui` flag to force plain text output

- `CachedEmbedder.Inner()` method
  - Exposes underlying embedder for progress callback access
  - Required to unwrap cached embedder for OllamaEmbedder features

---

## Fixed

- Embedding progress not displayed during indexing
  - **Root cause:** Type assertion `embedder.(*OllamaEmbedder)` failed silently
  - `CachedEmbedder` wrapper prevented access to progress callback
  - Now properly unwraps to access inner `OllamaEmbedder`

- Context deadline exceeded on large codebases
  - Increased `DefaultColdTimeout` from 20s to 120s
  - Accommodates model loading on slower hardware
  - Larger models (8B parameters) can take 30-60+ seconds to load

---

## Technical Details

### Files Modified

| File | Change |
|------|--------|
| `internal/embed/cached.go` | Added `Inner()` method |
| `internal/embed/types.go` | Increased cold timeout to 120s |
| `cmd/amanmcp/cmd/index.go` | Full TUI integration |
| `internal/ui/` | Existing TUI framework now used |

### Quality Metrics

| Metric | Value |
|--------|-------|
| Tests | All passing |
| Coverage | 66.4% |
| Race detector | Clean |
| CI check | PASS |

---

## What's Next

- Continue dogfooding and UX improvements
- Address remaining timeout edge cases if discovered

---

*Dogfooding phase: Focused on real-world usage and UX polish*
