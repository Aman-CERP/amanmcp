# Version 0.1.37

**Release Date:** 2026-01-02
**Phase:** Maintenance Mode (100% complete)

---

## Summary

Final maintenance release completing all tech debt and bug fixes. Error wrapping consistency achieved across the codebase.

---

## Fixed

### DEBT-004: Signal Handler Leaks
- Replaced manual signal handling with `signal.NotifyContext()`
- Affected files: `cmd/amanmcp/cmd/doctor.go`, `cmd/amanmcp/cmd/setup.go`

### DEBT-011: Cache Size Hardcoded
- Made SQLite cache size configurable via `StoreConfig.CacheSizeMB`
- Default remains 64MB
- Affected files: `internal/store/metadata.go`, `internal/config/config.go`

### DEBT-009: Error Wrapping Inconsistent
- Wrapped 26 bare `return err` statements with context
- Pattern: `return fmt.Errorf("<verb> <noun>: %w", err)`
- Affected files (7):
  - `internal/session/storage.go` (7 fixes)
  - `internal/search/engine.go` (7 fixes)
  - `internal/store/vector.go` (5 fixes)
  - `internal/watcher/polling.go` (3 fixes)
  - `internal/watcher/hybrid.go` (2 fixes)
  - `internal/preflight/marker.go` (2 fixes)
  - `internal/store/metadata.go` (1 fix)

---

## Technical Details

### Files Modified

| File | Changes |
|------|---------|
| `internal/session/storage.go` | Error wrapping in copyFile/copyDir |
| `internal/search/engine.go` | Error wrapping in Index/Delete |
| `internal/store/vector.go` | Error wrapping in save/loadMetadata |
| `internal/watcher/polling.go` | Error wrapping in Start/detectChanges |
| `internal/watcher/hybrid.go` | Error wrapping in Start/startFsnotify |
| `internal/preflight/marker.go` | Error wrapping in MarkPassed/ClearMarker |
| `internal/store/metadata.go` | Error wrapping in initSchema |
| `internal/errors/wrapping_test.go` | New test file for error wrapping |

### Quality Metrics

| Metric | Value |
|--------|-------|
| Tests | All passing |
| Coverage | 73.4% |
| Lint | 0 issues |
| Security | No vulnerabilities |

---

## Maintenance Release Summary

This release completes the v0.1.37 "Polish & Cleanup" maintenance milestone:

| ID | Title | Status |
|----|-------|--------|
| DEBT-004 | Signal Handler Leaks | Resolved |
| DEBT-011 | Cache Size Hardcoded | Resolved |
| DEBT-009 | Error Wrapping Inconsistent | Resolved |

---

## What's Next

All 18 maintenance items (4 bugs + 14 tech debts) are now resolved. The maintenance phase is complete.

---

*Maintenance Mode: 18/18 items resolved (100%)*
