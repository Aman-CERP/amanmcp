# Version 0.1.30

**Release Date:** 2025-01-01
**Phase:** Phase 3 - Polish & Release (94% complete)

---

## Summary

F27 Session Management validated. Users can now persist index state across restarts and switch between projects without re-indexing.

---

## Validated

- **F27: Session Management**
  - `--session=NAME` flag on serve command creates/loads named sessions
  - `amanmcp resume NAME` restores saved session
  - `amanmcp sessions` lists all sessions with stats (name, project, size, last used)
  - `amanmcp switch NAME` prints resume instructions
  - `amanmcp sessions delete NAME` removes session data
  - `amanmcp sessions prune --older-than=30d` cleans stale sessions
  - Atomic persistence with JSON metadata
  - Missing project directory handling with helpful error messages
  - Configurable storage path (~/.amanmcp/sessions/ default)
  - Session name validation (alphanumeric, hyphens, underscores)
  - Max sessions limit (default: 20)

---

## Technical Details

### New Files

| File | Purpose |
|------|---------|
| `internal/session/session.go` | Session, SessionInfo, IndexStats types |
| `internal/session/storage.go` | JSON persistence, atomic writes, file copying |
| `internal/session/manager.go` | Session lifecycle (Open, Save, List, Delete, Prune) |
| `internal/session/session_test.go` | Session type tests (8 tests) |
| `internal/session/storage_test.go` | Storage tests (14 tests) |
| `internal/session/manager_test.go` | Manager tests (20 tests) |
| `cmd/amanmcp/cmd/sessions.go` | sessions list/delete/prune commands |
| `cmd/amanmcp/cmd/resume.go` | resume command |
| `cmd/amanmcp/cmd/switch.go` | switch command |

### Modified Files

| File | Change |
|------|--------|
| `cmd/amanmcp/cmd/serve.go` | Added --session flag, runServeWithSession() |
| `cmd/amanmcp/cmd/root.go` | Registered new commands |
| `internal/config/config.go` | Added SessionsConfig struct |
| `internal/config/config_test.go` | Added session config tests |

### Quality Metrics

| Metric | Value |
|--------|-------|
| Session Package Tests | 42 passing |
| Session Package Coverage | 80.0% |
| Overall Coverage | 73.2% |
| Lint Issues | 0 |
| Security Vulnerabilities | 0 |

---

## Milestone

- **Phase 3 Polish & Release: 94% complete** (12/13 features)
- **Overall: 94% complete** (29/31 features)
- **Only F24 (Release Packaging) remaining for v1.0!**

---

## What's Next

- F24: Release Packaging (final feature)

---

*Phase 3: 12/13 features validated.*

> **Note:** v1.0.0 was planned but deferred for additional validation. See DEBT-020 and `docs/v1-release-checklist.md`.
