# Version 0.1.18

**Release Date:** 2025-12-30
**Phase:** Phase 3 - Polish & Release (17% complete)

---

## Summary

F20 CLI Commands validated - the "It Just Works" experience is now complete. Running `amanmcp` with no arguments checks Ollama, indexes if needed, and starts the MCP server.

---

## Added

- F20: CLI Commands - "It Just Works" CLI experience
  - Smart default: `amanmcp` with no args = full setup + MCP server
  - Checks Ollama availability, shows OS-specific install instructions
  - `--offline` flag for static embeddings (no Ollama required)
  - `--reindex` flag to force reindex
  - Auto-indexes if no index exists
  - Prints IDE config instructions (Claude Code, Cursor)
  - Starts MCP server on stdio

- Search command with full hybrid search
  - `amanmcp search <query>` - hybrid BM25 + semantic search
  - `--limit` flag for result count (default 10)
  - `--type` flag (all/code/docs)
  - `--language` flag for filtering
  - `--format` flag (text/json)
  - Pretty-printed results with scores

- Index command for standalone indexing
  - `amanmcp index [path]` - index a directory
  - Creates `.amanmcp/` with metadata.db, bm25.bleve/, vectors.usearch
  - Reports progress during indexing

- Output module for consistent CLI formatting
  - Status icons, progress indicators
  - Code block formatting
  - internal/output package

## Fixed

- `--offline` flag now properly passed to indexing logic
- Index tests now use static embeddings config (pre-existing issue)

---

## Technical Details

### New Files

- `cmd/amanmcp/cmd/search_test.go` - Search command tests
- `internal/output/output.go` - CLI output formatting
- `internal/output/output_test.go` - Output module tests

### Modified Files

- `cmd/amanmcp/cmd/root.go` - Smart default flow
- `cmd/amanmcp/cmd/index.go` - Offline flag support
- `cmd/amanmcp/cmd/search.go` - Search implementation
- `cmd/amanmcp/cmd/index_test.go` - Static embeddings config

### Quality Metrics

| Metric | Value |
|--------|-------|
| CLI Tests | 29 passing |
| Coverage (CLI) | 77.9% |
| Coverage (Overall) | 81.3% |
| Lint | 0 issues |

---

## What's Next

- F19: File Watcher (incremental updates)
- F21: Progress & Status UI

---

*Phase 3: 1/6 features complete (17%)*
*Overall: 19/24 features complete (79%)*
