# v0.2.5

**Release Date:** 2026-01-12

---

## Added

- **FEAT-DIM1**: Add `--bm25-only` flag to CLI search command for keyword-only search
- **FEAT-DIM1**: Add `BM25Only` option to SearchOptions and daemon protocol
- **FEAT-DIM1**: Enhanced dimension mismatch warning with recovery options
- **DEBT-024**: Add detailed telemetry to reranker (HTTP timing, payload size, overhead)
- **DEBT-024**: Add timing breakdown to rerankResults (chunk_fetch, build_docs, rerank_call)
- **DEBT-024**: RESOLVED as INVALID - MCP overhead is <5ms, not 900ms; cold-start explains original claim

## Documentation

- Add `docs/guides/two-stage-retrieval.md` - Explains bi-encoder vs cross-encoder architecture

---

## Upgrade Notes

### New CLI Flag: `--bm25-only`

Use `--bm25-only` to skip semantic/vector search and use keyword search only:

```bash
amanmcp search "exact keyword match" --bm25-only
```

This is useful when:
- Embedder is unavailable
- You want exact keyword matching
- Dimension mismatch prevents vector search

### Reranker Telemetry

Debug logging now includes detailed timing breakdown for reranking:

```bash
amanmcp serve --debug
tail -f ~/.amanmcp/logs/server.log | grep -E 'timing|rerank'
```

Timing fields:
- `prep`, `json_marshal`, `http_request`, `json_unmarshal`, `overhead_ms` (HTTP layer)
- `avail_check`, `chunk_fetch`, `build_docs`, `rerank_call`, `reorder` (engine layer)

---

## Sprint 4 Completion

This release marks the **100% completion of Sprint 4** (10/10 items).
